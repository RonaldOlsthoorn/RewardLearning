clear; close all; clc;

model_UR5 = ik.create_model_UR5();

homogen = [0;0;0;1];

qstart = [-6.39332142782223e-09;-2.09471027812752;2.09497425684082;-0.000202102103067082;1.57112803822692;-0.000194443765700214];
qend = [0;-1.59053078530711;1.73647038085276;-0.145833360531962;1.57145209166837;-0.000194443765700214];

tool_start = [-0.261928132448688;-0.109122698511683;0.362394165567026;1.20923151383064;-1.20939749602569;-1.20955778060290];
tool_end =  [-0.461983592865093;-0.109096030591406;0.362375683023876;1.20911096508225;-1.20966879742792;-1.20977543629918];

T0 = model_UR5.fkine(qstart);
Tend = model_UR5.fkine(qend);

T = ctraj(T0, Tend, 50);

J0 = model_UR5.jacob0(qstart);
Jn = model_UR5.jacobn(qstart);

q = model_UR5.ikine(T, qstart, 'alpha', 0.01, 'tol', 0.0000000000001);


model_UR5.plot(q);